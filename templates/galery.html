{% extends "base.html" %}

{% block content %}
<div class="mt-4">
    <div id="galleryCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
            {% for image in images %}
                <button type="button" data-bs-target="#galleryCarousel"
                        data-bs-slide-to="{{ loop.index0 }}"
                        {% if loop.first %}class="active"{% endif %}>
                </button>
            {% endfor %}
        </div>

        <div class="carousel-inner">
            {% for image in images %}
                <div class="carousel-item {% if loop.first %}active{% endif %}">
                    <img src="{{ image if image.startswith('http') else url_for('static', filename=image) }}"
                         class="d-block w-100"
                         alt="Изображение {{ loop.index }}"
                         style="height: 500px; object-fit: cover;">
                </div>
            {% endfor %}
        </div>

        <button class="carousel-control-prev" type="button" data-bs-target="#galleryCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#galleryCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
        </button>
    </div>

    <div class="mt-5">
        <h3>Загрузить новое изображение</h3>
        <form method="post" enctype="multipart/form-data" class="mt-3">
            <div class="input-group">
                <input type="file" class="form-control" name="file" accept="image/*" required>
                <button type="submit" class="btn btn-primary">Загрузить</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}